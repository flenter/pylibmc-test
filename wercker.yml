box: wercker/python
build:
  steps:
    - script:
        name: "install libmemcached6"
        code: |-
          sudo apt-get update
          sudo apt-get install libmemcached-dev
    - pip-install
    - script:
        name: "force failure"
        code: fail-hard-now
  final-steps:
    - wercker/hipchat-notify:
        token: $HIPCHAT_TOKEN
        room_id: 152974
        from_name: wercker
        on: failed
deploy:
  steps:
    - script:
        name: "first sleep"
        code: sleep 1
    - script:
        name: "second sleep"
        code: sleep 15
    - script:
        name: "big sleep"
        code: sleep 10
    - script:
        name: "failing step"
        code: |-
          please_fail_here!
    - script:
        name: "long sleep"
        code: sleep 1
    - script:
        name: "short sleep"
        code: sleep 1
    - script:
        name: "less sleep"
        code: sleep 1
    - script:
        name: "useless sleep"
        code: sleep 1
  final-steps:
    - wercker/hipchat-notify:
        token: $HIPCHAT_TOKEN
        room_id: 152974
        from_name: wercker
        on: failed
