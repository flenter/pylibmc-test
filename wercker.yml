box: wercker/python
build:
  steps:
    - script:
        name: "first sleep"
        code: |
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
    - script:
        name: "second sleep"
        code: |
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1

    - script:
        name: "big sleep"
        code: sleep 10

          
  after-steps:
    - wercker/hipchat-notify:
        token: $HIPCHAT_TOKEN
        room-id: 152974
        on: failed
deploy:
  steps:
    - script:
        name: "first sleep"
        code: |
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
    - script:
        name: "second sleep"
        code: |
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1
          sleep 1

    - script:
        name: "big sleep"
        code: sleep 10
    - script:
        name: "failing step"
        code: |-
          please_fail_here!
    - script:
        name: "long sleep"
        code: sleep 1
    - script:
        name: "short sleep"
        code: sleep 1
    - script:
        name: "less sleep"
        code: sleep 1
    - script:
        name: "useless sleep"
        code: sleep 1
  after-steps:
    - wercker/hipchat-notify:
        token: $HIPCHAT_TOKEN
        room-id: 152974
        on: failed
